---
// src/components/SectionIndustrys.astro
---

<section id="Industry-section" class="py-24 px-6 bg-[#E6E6E6] overflow-hidden">
  <div class="max-w-4xl mx-auto text-center">
    <span
      class="Industry-text block text-[#EA4726] font-bold tracking-widest uppercase text-sm mb-4 opacity-0 translate-y-8"
    >
      Keep up with Industry
    </span>

    <h2
      class="Industry-text text-3xl md:text-5xl font-black text-gray-900 mb-6 leading-tight opacity-0 translate-y-8"
    >
    </h2>

    <p
      class="Industry-text text-lg md:text-[30px] text-black leading-relaxed max-w-2xl mx-auto mb-12 opacity-0 translate-y-8"
    >
      Hey want to know what is happening in the industry the trend and the
      demands stay upto date with industry by reading <b
        >" Keep up with industry "</b
      > where we deep dive with alumnis and experts from differnt fields.
    </p>

    <div id="Industry-btn-wrapper" class="inline-block scale-0">
      <a
        href="/Industry"
        class="inline-flex items-center gap-2 bg-[#EA4726] text-white px-8 py-4 rounded-full font-bold text-lg transition-transform hover:-translate-y-1 hover:shadow-lg group"
      >
        Read Industrys
        <svg
          class="w-5 h-5 transition-transform group-hover:translate-x-1"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
        </svg>
      </a>
    </div>
  </div>
</section>

<script>
  import gsap from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";

  gsap.registerPlugin(ScrollTrigger);

  const section = document.getElementById("Industry-section");

  // FIX: Use querySelector instead of getElementById for children
  const textElements = section?.querySelectorAll(".Industry-text");
  const btnWrapper = section?.querySelector("#Industry-btn-wrapper");

  if (section && textElements && btnWrapper) {
    const tl = gsap.timeline({
      scrollTrigger: {
        trigger: section,
        start: "top 75%",
        toggleActions: "play none none reverse",
      },
    });

    // 1. REVEAL TEXT
    tl.to(textElements, {
      duration: 0.8,
      autoAlpha: 1, // Becomes visible
      y: 0, // Moves into place
      ease: "power3.out",
      stagger: 0.2,
    });

    // 2. REVEAL BUTTON
    tl.to(
      btnWrapper,
      {
        duration: 1.3,
        scale: 1,
        ease: "elastic.out(0.4,0.3)",
      },
      "-=0.6",
    );
  }
</script>
